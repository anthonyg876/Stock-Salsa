<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="portfolioStyle.css">
    <meta charset="UTF-8">
    <title>Stock Portfolio</title>
    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
</head>

<!-- Navigation Bar -->
<nav>
    <div class="left-links">
        <a class="links selected" href="#">Stock Salsa</a>
    </div>
    <div class="right-links">
        <a class="links" href="menu.html">Main</a>
        <a class="links" href="portfolio.html">Query Analysis</a>
        <a class="links" href="chartpage.html">Historical Data</a>
        <a class="links" href="index.html">Logout</a>
    </div>
</nav>

<!--Stock Portfolio Header-->
<div class="stockPortfolioHeader">
    <h1 style="color: #3d3b3b">Select stocks and your desired query</h1>

    <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
    <script src="portfolio.js"></script>

    <!-- Stock Table -->
    <script>
        const formEl = document.querySelector("form");
        const tbodyEl = document.querySelector("tbody");
        const tableEl = document.querySelector("table");
        function onAddWebsite(e) {
            e.preventDefault();
            const stockSymbol = document.getElementById("stockSymbol").value;
            tbodyEl.innerHTML += `
            <tr>
                <td>${stockSymbol}</td>
                <td><button class="deleteBtn">Delete</button></td>
            </tr>
        `;
        }

        function onDeleteRow(e) {
            if (!e.target.classList.contains("deleteBtn")) {
                return;
            }

            const btn = e.target;
            btn.closest("tr").remove();
        }

        formEl.addEventListener("submit", onAddWebsite);
        tableEl.addEventListener("click", onDeleteRow);
    </script>

    <div class="container">
        <form class="form" id="queries" onsubmit="event.preventDefault()">
            <div class="stockName" id="queryName">
                <label for="search">Stock Symbol</label>
                <input type="search" id="searchName" data-search>
            </div>
            <div class="StartDateSelector">
                <label for="StartDate">Start Date:</label>
                <input type="date" id="StartDate" name="StartDate">
            </div>
            <div class="EndDateSelector">
                <label for="endDate">End Date:</label>
                <input type="date" id="EndDate" name="EndDate">
            </div>
            <div class="vol-wrapper">
                <button class="avgVolume" id="avgVolume" type="submit" onclick="getAvgVolume()">Average Volume</button>
            </div>
            <div class="avgClose-wrapper">
                <button class="avgClose" id="avgClose" type="submit" onclick="getAvgClose()">Average Close</button>
            </div>
            <div class="prices-wrapper">
                <button class="prices" id="prices" type="submit" onclick="priceChanges()">Price Changes</button>
            </div>
            <div class="percentage-wrapper">
                <button class="percentages" id="percentages" type="submit" onclick="percentageChanges()">Percentage Changes</button>
            </div>
            <p id="message"></p>
            <div class="chartdiv" id="chartdiv">
            </div>
        </form>
    </div>
